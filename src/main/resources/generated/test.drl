package dev.boghy933.drools.rules 

import dev.boghy933.droolsgenerator.dto.Business
import dev.boghy933.droolsgenerator.dto.BusinessType
import org.drools.core.util.DateUtils
import dev.boghy933.droolsgenerator.utils.CommonDrools

rule "Set Bronze"
when
    
    $business : Business( $business.getExpense() > 0, $business.getExpense() <= 10000, $business.getActiveYears() contains 2020, CommonDrools.ageBetween($business.getBirthDate(), 18, 35) )   
then
	
	$business.setBusinessType(BusinessType.BRONZE);
	$business.setAppliedRule("1.0-BRONZE");

end

rule "Set Silver"
when
    
    $business : Business( $business.getExpense() > 10000, $business.getExpense() <= 20000, $business.getExpense() <= 20000, ["Silver Company", "Gold Company"] contains $business.getName(), $business.getBirthDate().compareTo(DateUtils.parseDate("10-Jul-2019")) > 0 )   
then
	
	$business.setBusinessType(BusinessType.SILVER);
	$business.setAppliedRule("2.0-SILVER");

end

rule "Set Gold"
when
    
    $business : Business( $business.getExpense() > 20000, $business.getExpense() <= 30000, $business.getName() in ("Silver Company", "Gold Company") )   
then
	
	$business.setBusinessType(BusinessType.GOLD);
	$business.setAppliedRule("3.0-GOLD");

end

rule "Set Diamond"
when
    
    $business : Business( $business.getExpense() > 30000 )   
then
	
	$business.setBusinessType(BusinessType.DIAMOND);
	$business.setAppliedRule("4.0-DIAMOND");

end


